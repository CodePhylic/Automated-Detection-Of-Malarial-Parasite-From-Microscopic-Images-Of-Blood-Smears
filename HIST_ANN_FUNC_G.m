function [y1] = HIST_ANN_FUNC_G(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 26-Jun-2016 19:39:27.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 80xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
  x1_step1_gain = [11.906976744186;15.5151515151515;17.6551724137931;17.6551724137931;18.962962962963;28.4444444444444;26.9473684210526;23.2727272727273;24.3809523809524;39.3846153846154;36.5714285714286;56.8888888888889;64;51.2;39.3846153846154;46.5454545454545;46.5454545454545;73.1428571428571;64;85.3333333333333;64;56.8888888888889;73.1428571428571;56.8888888888889;46.5454545454545;85.3333333333333;73.1428571428571;64;102.4;85.3333333333333;102.4;85.3333333333333;85.3333333333333;102.4;102.4;102.4;102.4;128;128;102.4;85.3333333333333;102.4;128;128;102.4;102.4;128;170.666666666667;73.1428571428571;170.666666666667;128;128;170.666666666667;102.4;128;128;85.3333333333333;256;170.666666666667;256;170.666666666667;256;128;85.3333333333333;170.666666666667;170.666666666667;170.666666666667;128;128;170.666666666667;256;256;102.4;170.666666666667;170.666666666667;256;170.666666666667;256;256;256];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [1.4392250382449794;-1.1196594303374565;-0.77378520355034885;-0.55408900564839947;-0.1884690973743833;0.26559700904986061;-0.43408182249084276;0.8216959444722346;-1.0388310470628859;1.4209564537122854];
  IW1_1 = [-0.25169012229403986 -0.25381381121697399 -0.063266049558472759 0.098913321213310673 -0.1322889933196838 -0.13300323485684884 0.18103534430362286 -0.24193945751118939 0.16122490452849542 -0.22561004772116161 0.25256219935633439 0.22433841657899448 0.067351393704918758 -0.24405503037954571 -0.058784856965942579 -0.07861334086765015 -0.10970583205257911 0.15125503662791828 -0.064978883525154699 -0.10729377240629344 0.23167073566191995 -0.12809894797229729 -0.12858360666960467 0.026665552418109192 0.21103792758988502 0.084857249268827054 0.13404786551375367 -0.14067246658764976 0.10015787794238895 0.011252730514509467 -0.058663668324745483 -0.036074927985543841 0.22998265046990937 0.11078683977229614 0.034342887147832929 -0.066224950454485593 -0.1130845607933976 0.20800519934145967 -0.22016031095981559 0.085604169075262235 -0.040476798411621974 0.24264412842407637 -0.14938457533746458 -0.27105529929844624 0.12190035467383888 0.14562558212564572 0.098332072224400241 0.089321594399132218 0.023553654896230576 0.080793234264560615 -0.027054476157456597 -0.22001322392918662 -0.18922106060608876 -0.056436559995570693 -0.037247973576435965 0.24548374883056656 0.21051570169414996 -0.22311654401103939 0.033540391377277726 0.26802753063690604 0.047994337238149824 0.044632195898531568 0.072039609766333654 -0.16811187654328885 -0.004111249347749416 -0.22697802745190254 -0.23697035817088166 -0.2540637107124451 0.19425402327202865 0.022694609744310219 -0.075712997363480306 -0.21476151983155856 -0.23235936811725874 -0.21590878683303549 -0.22240460324193279 -0.26615124850902883 0.031973303433458278 -0.0067877793269585564 -0.19980643654337249 -0.14363925151409518;0.16909859262971322 -0.13800184681688901 0.1363897041061061 0.079377229380993855 -0.0047983524386380778 0.1630821684599113 0.03679278524460354 0.0054529655146834596 -0.11153007791687668 -0.15725239035847155 -0.27771466819681095 -0.17859421793953803 -0.085337081926773875 0.21703678384672015 -0.14587647767636236 0.17069675840425122 0.13394860228849678 -0.011018550359273193 0.17261268629129925 -0.026684330312884464 -0.038796678611798356 0.053774207179449966 0.16656018062027547 0.0034991822330945107 0.22628892935398159 -0.0048918782803947887 0.0034860489841320222 0.21322547588269175 -0.25419576443582959 0.26168579096763317 0.18223887342040754 -0.26875791207370903 -0.24007836867591537 0.09292957934429158 0.2156368975604282 -0.16438439451133399 0.063208846398040752 0.17705642606432379 0.050335283261398869 -0.049066218000172003 -0.22521201551377498 0.071812920465219338 0.09632982020775481 -0.024364086394847141 -0.013079188128823695 -0.1700612832790003 0.082720344919695168 0.15013709375051487 0.20225122378162225 0.020059740018355521 -0.078943371015617783 0.019003065448389089 0.057250189313583735 0.10146500966588955 0.21190301742103651 -0.098233812521411265 0.055195531806329891 -0.22021824125498371 0.23050251285015472 0.011885282532622502 -0.13751429767538767 0.22726889593466945 -0.25666223330056553 -0.25485140386822452 0.19602724427583318 -0.2229033687171024 0.19314496640692352 0.24412025695217876 -0.083103345388004249 0.10926494773257114 -0.24008563680464737 0.13785337852442273 -0.14366723328663375 0.27700213046652239 -0.23664503385513763 -0.24391122993938436 -0.055923374908069763 0.21264703700673515 0.12579422626457093 0.12154268590567383;0.22497921088164147 -0.27292589820581381 0.14710866810034956 -0.20761289314364584 0.093870008105672656 -0.15891454812575231 0.011961858804917187 0.13733944892886457 -0.0012490449570767635 0.21797391091375565 0.14019990766628387 -0.14275504077368373 -0.0075481243191691432 0.23632070753139087 -0.075038244792832526 -0.29165820727959757 -0.19393948446546777 -0.048772620679496552 0.0013678397110915186 -0.16919146768321455 -0.19597395395450359 0.098022828294897724 -0.27982687238604265 -0.17140806959210894 0.14450519277427096 0.14255667134391736 -0.025838454430535045 -0.28243974598581328 -0.25552462303797774 0.06844273905660675 0.15497666854070405 0.25330474284650806 0.1187476695408789 0.0038996659300826958 0.081953319732249078 -0.059336034252541685 -0.1493175939446019 -0.15442364483711368 -0.028714448236773129 0.15901281279943308 -0.15038049086864591 0.2367362687857536 0.17588075731548716 -0.0599623909778223 -0.21582294547574166 -0.14098326234727815 0.23248846504994305 -0.10289807373611447 -0.15463787077385713 0.10629820729199703 0.12936163772513626 0.0001217731086937589 -0.15204634549057131 0.097846113345495048 -0.08455841695708384 0.076548409185353258 -0.21509550881032999 -0.22198589873981506 0.093483483169883863 -0.031783265875873198 0.072433811973468987 0.03032152463786917 0.046732455717944411 0.052945616041550715 0.19251091631570061 -0.22241980637517103 0.22533975919276633 -0.13532960037177272 -0.050035566227971021 0.25605045597481124 -0.0061642789554770851 0.11722491859313472 -0.27629863025719825 -0.11493763890173797 0.13021780626566856 0.077550096368029217 -0.26591093194964971 0.14651285337010245 -0.23968691073925652 0.24662096831856339;0.15387556683383519 -0.16993511732896149 -0.12627405827593718 -0.16437695674809855 0.26977605997001186 0.28684274444064545 0.27960595527614657 0.30184377220582576 -0.13128743982003468 -0.14892657082013788 0.22428520979821054 -0.16715290810732908 -0.0091205303823239971 0.039267669907486279 -0.16783318581122403 -0.198901980109328 0.15129559104460202 0.012650487030405895 -0.039615566201077111 0.24223187300976615 0.27238926068273966 -0.10417330864534989 0.27877404834633152 0.056854288865320263 -0.16229059392282719 0.17094162014827738 0.26931797565538013 0.043935598731404145 0.065365032591147135 0.21553336445923965 -0.19450540815895795 -0.12579993821085578 -0.083632506022586747 0.16764367308093137 -0.12375130868907555 0.046181500677106281 0.2358820865405403 0.09819526894690947 0.16596819162933543 0.17703225416424073 -0.12820262998479956 -0.078541523639879832 -0.033136449244542079 0.038577426803822035 -0.028009966348004251 -0.16963680428973252 -0.10517468617925238 0.14012749020577944 -0.033227433373307198 0.072758764305123014 0.1344704120221181 0.25687551555153826 -0.19903187976782488 0.024452164927889083 0.21044633652774966 0.026325755478801609 -0.10831829956648996 0.15811689782599414 0.10591899295250179 0.22073357634480045 -0.17286492442204496 -0.22520613238624432 -0.011218277143330117 -0.049691225208047085 -0.065563717332814575 -0.12300611008007729 0.33102656989289059 -0.04814183582667024 -0.18323020597997008 -0.049815467266109553 -0.046268546511227027 0.080593863521249587 0.039763475603151223 -0.054211057863321907 0.29287231211878212 0.1168687771681686 0.21327101568798218 0.1993234633469477 -0.1556830908553454 0.27137296751779511;0.15942443046128529 0.19767812034888221 0.015335155625148042 0.019746518809923362 0.27031076846125607 -0.064903002808754676 -0.099562105472272039 -0.18251797856280202 0.073307167628395342 0.18874015769641161 0.21451299046211428 -0.1908577085672781 -0.21907202567266387 0.0076397571749075317 -0.18023668631430922 -0.16102356179142291 -0.15692563248969338 -0.093728116441988044 0.25461243930934407 -0.15471855788768668 0.2785383604093235 -0.19127940299985685 0.13496400621245977 0.086572177070444636 -0.10986967095573882 0.23583740264536279 0.073543956014425704 -0.16586545453938711 -0.2028692841068471 -0.0098116846911612318 -0.0356851926478697 -0.1940794859542565 -0.02397908429909288 0.11272273118003484 -0.056841472136484807 -0.18715831080379686 0.28339842863013581 -0.24567015945133813 0.12949876236056213 0.2776788804404639 -0.096280161626943819 0.11866177042275539 0.17416360031148154 0.16846897639403652 0.080066631330346846 0.062024066333210504 0.13660901359181396 -0.031261086666969438 -0.18175488889888478 0.29301742929524444 0.17341092979784389 0.012832226856955509 0.15985880755598431 -0.23853341563970928 -0.032366535078441561 0.20343553998096423 -0.026652120784118442 0.017711260279343641 0.19409950513769653 -0.13311162093997805 0.091023842804431682 -0.19002002309093402 -0.22418504457249791 0.048510539287799442 -0.13366135153510308 0.088458971438625342 0.21862974883639374 -0.065392930313939723 -0.15340641151174683 -0.020723533810080807 -0.15901990661463222 -0.1595407118776519 -0.23858534220948338 -0.21703741402938789 0.040333098990223637 0.036311867065451787 -0.065502405751989082 -0.22062345494013566 0.098248236443574249 -0.20167712099962962;0.090155864481509806 0.061401155401966598 -0.10498774451891003 0.23777239060880787 -0.042290894524176698 -0.26772853643290795 0.10374476359277042 -0.035372978620256304 -0.22950665370608789 -0.03638248288946188 -0.33905584896638125 0.20413428560201013 -0.23002242547920687 -0.17158162009265801 0.21237760141039128 0.025459504275195687 -0.15471008681855464 -0.054563554571114323 0.19285773228913436 -0.25290504816642373 -0.11093476279190378 -0.21163875245959188 -0.059542052599475967 0.036544707018145953 -0.18775318438309008 0.19100513408032216 0.013088788432321571 0.25494165534305996 0.1527273966471113 -0.10756105991507274 -0.043966212443875191 -0.15669856650773695 -0.02599525776330075 -0.29210880758591218 -0.093187563762312714 -0.0096126510656395769 0.089576533253117915 -0.11993731683458914 0.026506862600034743 -0.05748260121820313 -0.11805925520761078 -0.21532366508750905 0.049112107222695281 -0.1930406330041062 -0.28349078280752266 0.043287008825894882 -0.24994284420373916 0.16503193734337976 0.20122425212664596 -0.26027420153579167 0.2116093224244317 -0.13048723010474933 -0.25306715310229949 -0.18121692989924876 0.12042711449770721 0.10201471358456256 0.08606088849242291 -0.28320699403889893 0.17770527662762223 -0.071277379786206727 0.024299197544459875 0.18421175904949372 -0.088669762477354405 0.040586797455545713 -0.051121573303583655 -0.046273439263793383 0.11387545496773789 -0.12021191732575384 0.02102671140744368 -0.12421401955836346 -0.25872251066362167 -0.0032359140164427876 0.16041951008577851 -0.2228242423456856 -0.36260075755190768 0.084536875098153538 -0.0057160675802219322 -0.38713809317806386 -0.19808022489228541 -0.18375457792053909;-0.099489707747221476 -0.14141481691288929 0.049697543285703673 -0.12609689299523255 -0.24375601143309428 -0.17480641778415648 0.11531098419097525 -0.052922210774447809 0.058505007177518893 0.26370462090048147 -0.084367385174085041 0.03082584555387231 -0.24214096022881587 0.20496465985465148 0.2306744164118581 0.10197632141671291 0.045650985103572857 -0.019904717782798884 0.00077406922391072726 -0.21696746516016685 -0.25427433457727794 -0.13514727443195323 0.028173515383069041 -0.094456452640548041 0.070277498902107369 -0.12863637382185314 0.18227317442596824 0.09661900018199561 0.15635937500085392 0.16350295396868467 -0.076959811544714887 -0.21093092241706943 0.22849160740994159 -0.25190724614152354 0.2513906363592619 -0.18748805800882223 -0.12111375993168118 -0.13626366028574596 -0.30503576539136218 -0.13661892692986952 -0.019798876846696963 0.065796300135531186 -0.31812921328938909 0.13246097216037592 0.10508606352348228 -0.0054244123781151182 -0.25195451920325851 0.17031169734690546 0.045316402220789372 -0.26046184840551079 0.23847152709050973 0.071786135513546193 -0.068816924860712267 -0.073479670911466469 0.10990537742514077 -0.22595542683086209 0.15585875598612559 -0.032430293201962092 0.25153779454298825 0.20249924603451841 0.099652874898281743 -0.031704876188457624 -0.21579938711652563 -0.040526040910982192 0.0390125840123242 -0.29943079812897383 -0.028124358457265894 0.044414572971053196 -0.13822805932294419 0.1088994021511203 0.209367177251121 -0.14278779824700738 -0.2196900900135238 -0.29974393974048519 0.14863667294059643 0.084546922169217664 0.10601818094272565 -0.28032431892623444 0.058140929897828868 -0.11561474860586876;0.073828271753244953 0.24680893970528292 0.10624790882094098 0.034000683990919572 -0.22061844304929337 0.053169111552589722 -0.086126108625338135 -0.30378265164958257 0.099483676415983893 -0.25804878731197867 -0.14567357246729729 0.027443834174394558 -0.19375697619414819 -0.086490142198437106 0.02649019030633611 0.075550201659095165 0.1529939125605641 0.17736670100165719 0.055691903017512014 -0.17276291902996055 -0.15961682432294555 -0.061285634111815236 -0.15831120799488965 -0.095267767678203927 -0.2297453844873007 0.10276328208573313 0.16471493802024995 -0.011519413548149931 0.116669068667277 -0.25078974653655828 0.078776375565772577 -0.024302703668873462 -0.057108065880475206 0.27318482954300416 -0.21352453026798077 -0.074486456575526425 0.033836859916329447 -0.21405297314420163 -0.26319306527067809 -0.24714962652969003 -0.036826018216722059 0.099792924976326705 0.038674538763034672 -0.032021464210334701 -0.16328648667212181 -0.059253563703264484 0.050171538597535786 -0.15397044716806246 -0.02870880335943694 -0.24401051219360848 -0.19598002510363902 0.12722238896728777 0.096172316623975754 -0.14986495026786989 -0.091289683046889766 0.19910506500432909 0.15614666899146828 -0.22427796456936 -0.31215181174411638 0.020166649779604032 0.21478884150974586 0.18233818558087403 -0.23052129599326363 0.0036818700815390427 -0.064450473954384788 0.23154110410652984 -0.2035166105605847 -0.29630243292179298 0.21958998312971856 0.16496854474920897 0.084770981304348875 -0.21967075727458493 -0.25830007497324875 -0.014815793972728135 -0.12146151561561962 0.14732041306493723 -0.24841260634739781 0.15605044366374649 0.12957056623070579 0.091691196666208827;-0.24106857538363441 -0.31556147968333648 0.091224219465833589 -0.20190881993974832 -0.18819032865977375 -0.055805642991415522 -0.0077836579866649496 -0.14692852071301835 0.087929025291900859 -0.06697209983730873 0.12744871001426319 -0.22127653204566461 -0.18756469730430431 -0.26033507143751289 -0.30800537567063768 -0.083533633465380064 -0.28456688668612917 0.11991984987429863 -0.00041651475475326758 -0.089442306284842954 -0.10986257256540673 -0.058759135639578366 -0.060655228147362329 0.20859863768812881 0.058922208150590662 -0.22338557517120494 -0.01137556561892499 -0.070183312587204866 -0.24428580687582999 -0.25253316465650294 0.020761694624617105 -0.15230260103747731 0.22056979595029627 -0.24604058243803278 0.14364745443011531 -0.011745722449942235 -0.27595856053844314 -0.23759429778007005 -0.15609749115832319 -0.0013731342644522347 0.14501842134972365 -0.3027698526369707 -0.12152739805729817 -0.32256606391455911 0.16844343447325447 0.014995608584545629 -0.08867438889750423 0.009944121230093441 0.0064562604995166773 -0.30400252907762115 -0.26478442681916986 -0.044008355329221101 -0.14531396499675517 -0.22664522057350173 -0.22871296647347406 0.20763026413217142 -0.16543928778140887 -0.30134059860272688 0.14584637186222169 0.1356823797465555 0.20243620079816618 -0.2015530263805386 -0.22762771779502608 -0.10447975563976113 -0.23581449845055047 0.053351103619260175 -0.11519188827305303 0.11632434407319192 -0.28309958763005805 -0.30158498280136203 -0.074706972035875979 -0.21193339205378511 -0.18739270586479168 0.074100837443999368 -0.19068947073823081 -0.17915623380178822 -0.26699562854313336 0.17624736836872532 -0.015843171860493541 -0.011178674541566801;0.10956987331064623 -0.036064575129962667 -0.12627097568654713 0.15180183140854814 0.20234713961999312 -0.083691172762101751 -0.2409170335440094 -0.18830211873894459 -0.020645174199457127 -0.21959676113638615 -0.030826028353653959 0.21225814288281719 -0.039652865936950485 0.17331082414646942 -0.13912856462905435 0.040633867294115354 0.26215111692776027 0.095372345117655549 -0.15689690531767486 -0.10196535031565895 0.068628911177453719 -0.22489557963704143 0.28110854122121215 -0.2553622514240983 -0.2104533263642257 -0.2623288452555177 -0.16909868011973089 -0.24003871704467206 0.10534615600357229 -0.1718121547711885 -0.10847092177842667 0.27045731361558151 -0.10016769868798285 -0.25809717768900725 0.095864440318768049 -0.12658905450974123 0.24704941767681313 -0.030780407475477053 0.03090927465731505 0.1772542160248044 0.025420470333603791 -0.12902664386672771 0.25481777031023939 -0.17207754559831209 -0.11881361673943892 0.10069475820550065 -0.0049972439101923019 0.060273476117202449 0.043740477344629734 -0.040659321955510523 0.1285053304697327 -0.068647761090936357 0.15416295753635001 0.20308145415409701 0.18282006818973975 0.022117828922496759 0.038751954879519691 0.21657018831641939 0.081981138083075097 0.15210990647592965 0.17179413485353198 0.04543191668827827 -0.18620783533916355 -0.19792523530784922 0.27398949390915628 0.15178753322035476 -0.19582672401438811 0.050749756474964755 0.29731660258130105 -0.17164993684531002 0.25158038918915848 0.24469239923890357 -0.0085138740169553306 0.091716555360304375 0.15869619686987418 0.12464050852474463 0.045374731026798877 0.12197546839451012 0.15668046513002701 0.18265743095278361];
  
  % Layer 2
  b2 = [0.46835978716938315;-0.31636336986769598];
  LW2_1 = [-0.37216182612424786 -0.72045658790836575 -0.40361113339653815 -0.15639006976753306 0.13586926758041296 -0.37200296415132383 -0.59623695400666621 -0.6018400361889954 -0.8138114836434579 -0.87899051942996498;-0.48047661798960917 0.43765751689764504 -0.40849656157833858 -0.28214636227181211 0.11697271801432241 0.23955794755986079 -0.61441773375123365 0.13833058965601053 -0.19256021391653505 -0.68674906202646868];
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);
  
  % Output 1
  y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Competitive Soft Transfer Function
function a = softmax_apply(n)
  nmax = max(n,[],1);
  n = bsxfun(@minus,n,nmax);
  numer = exp(n);
  denom = sum(numer,1); 
  denom(denom == 0) = 1;
  a = bsxfun(@rdivide,numer,denom);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
