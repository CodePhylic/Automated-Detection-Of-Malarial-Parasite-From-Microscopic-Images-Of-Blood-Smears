function [y1] = HIST_ANN_FUNC_R(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 26-Jun-2016 19:35:57.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 80xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
  x1_step1_gain = [9.14285714285714;17.6551724137931;20.48;25.6;24.3809523809524;34.1333333333333;34.1333333333333;30.1176470588235;36.5714285714286;39.3846153846154;42.6666666666667;36.5714285714286;56.8888888888889;64;56.8888888888889;56.8888888888889;85.3333333333333;85.3333333333333;73.1428571428571;73.1428571428571;64;73.1428571428571;73.1428571428571;51.2;102.4;73.1428571428571;128;102.4;64;102.4;128;128;102.4;128;128;128;128;64;128;256;170.666666666667;170.666666666667;170.666666666667;128;170.666666666667;102.4;128;128;170.666666666667;170.666666666667;102.4;170.666666666667;256;170.666666666667;256;128;170.666666666667;102.4;128;170.666666666667;170.666666666667;170.666666666667;170.666666666667;170.666666666667;256;170.666666666667;170.666666666667;256;128;256;256;256;85.3333333333333;170.666666666667;170.666666666667;128;256;170.666666666667;170.666666666667;170.666666666667];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [1.4429095308762738;-1.194152059546058;-0.77483015150495915;-0.5518784243922803;-0.14631396175521266;0.076175939896057976;-0.49275755947950589;0.75841887095910177;-1.1162841757162945;1.4538362080242202];
  IW1_1 = [-0.25205750158846763 -0.2529363309921675 -0.063714616652893755 0.098421224098839091 -0.13305782117239445 -0.13381299023418422 0.18038025375415753 -0.24315633407319723 0.15986773453384978 -0.22742280794958844 0.25129389653450812 0.22273113077729104 0.065939483780330946 -0.24548272316661474 -0.061709890224409661 -0.081073941376932773 -0.11298273121263547 0.14865428550021778 -0.06852757305747563 -0.1095876576096043 0.22930591101750153 -0.13108213688005477 -0.13091660035249941 0.024041739962625052 0.2077041581015327 0.081775470415029194 0.13161514414814846 -0.14332570167896214 0.098431172757504987 0.0093774768874878532 -0.059972848570165015 -0.037885047774197565 0.22755945103233363 0.10830215252166131 0.032293158841028985 -0.067868173340519047 -0.1150674028667731 0.20566450810581102 -0.22178128481819268 0.085952578008532343 -0.043019933630420795 0.24065350564082874 -0.15086701921330362 -0.27264876239385505 0.1190861161838396 0.14240520674610382 0.096161997347931974 0.086431434768987195 0.020163083272412577 0.079751368401064338 -0.02994214086043601 -0.22350866992882179 -0.19129343982457217 -0.059681457692417283 -0.038610961401157162 0.24397995065092085 0.20742088866589578 -0.22498354977090276 0.031812615409253203 0.2661825808979093 0.04549951657461012 0.042695791483998817 0.068725181165625204 -0.17010022858502821 -0.0069135767215991921 -0.22832737782361343 -0.2380789754483498 -0.25597942099917531 0.19075067411064964 0.02045477209796703 -0.07766948757896952 -0.21584834066378142 -0.23530489864476878 -0.21859791279189988 -0.224814645101821 -0.26742051624685553 0.030103050034217906 -0.008833660155813822 -0.2011355800220013 -0.14661002348163046;0.17100527929831838 -0.20038541868047244 0.10496381707014854 0.038974510575801737 -0.02238034864117415 0.17285444800417987 0.019072570626004561 0.050312997360450522 -0.084598314971441865 -0.10047460134119096 -0.2624991013745927 -0.15962773650524778 -0.037221099457890969 0.23519781601544834 -0.077826654124944522 0.24765655817867871 0.23430490406373297 -0.014607891219015359 0.29289766917541349 0.030417234287382723 0.010561476719354692 0.079202184306668727 0.17800524159677475 0.066592265479297003 0.25118753795645038 0.0258054064431795 -0.0032026170974376639 0.24770469309164372 -0.21907537443131911 0.25980179089244038 0.17162620067555873 -0.2840167222839966 -0.21092753578816897 0.10906273429613755 0.26896091730451605 -0.13878507761598163 0.091159882700455303 0.18380756263301304 0.074326883624573778 -0.067956768067224227 -0.15506125031916296 0.067380089253306977 0.067701041466949191 0.023846501350315522 0.01729992439220578 -0.10524112140768503 0.12641890316693821 0.25061114063474854 0.24781894849037117 0.0016771628914126829 -0.021578099903360022 0.077427380878083985 0.090567220473756191 0.18839236637783749 0.25528305928294565 -0.064712333346534784 0.071678871610630177 -0.12902625644711838 0.24777994347800744 0.024308294096766461 -0.077996053293910197 0.26266539724060312 -0.18716081587341499 -0.21759974294810869 0.23427650207855163 -0.16558148091082533 0.20760315945290667 0.25012578579593731 -0.042258575654360392 0.098676899585276187 -0.25671633007603561 0.19658665261720865 -0.081301388023267154 0.34103543700426159 -0.18754021330631854 -0.19205209204444054 -0.10311976630281934 0.25792053015198907 0.16273043337722715 0.19692758409788652;0.28361685159594796 -0.22069499273885396 0.18280792137143612 -0.18319727145359807 0.10909235399188642 -0.15404841821650081 0.029829314951396343 0.14251757109655733 0.004227996609190824 0.22576790323748822 0.15780987603769989 -0.1420246139076228 0.0083647554226979268 0.25484181146760393 -0.066622541092230592 -0.28097999408151975 -0.20077426209867191 -0.015050365790051092 -0.0064533404712757408 -0.14138150870451552 -0.17600583652115395 0.11293269093239706 -0.26091681356460927 -0.16851370260299442 0.15429733547396959 0.15745941213965198 0.028160659139359459 -0.27240515796885195 -0.23975709664238945 0.081276669310584498 0.18156123975432362 0.29465259142282468 0.12867005063856438 0.0058853230233534125 0.10733075037234825 -0.029880596460714472 -0.13785177075334978 -0.14296384586769648 -0.033397379782784745 0.17779475835793077 -0.1415696404928502 0.26090979602469616 0.19067650351338344 -0.068251899319538387 -0.20300296130873477 -0.14415015215490348 0.23914894860186398 -0.11301392771060183 -0.14704223934712021 0.11953436767634566 0.1278796086880109 -0.010779522729691134 -0.15106369286581053 0.08149454941301254 -0.077703957577361579 0.078813494681186924 -0.18659715907145744 -0.2260722388264948 0.095173282314111818 -0.022900790373706521 0.094293508917626362 0.021729871728490814 0.034723470022964137 0.053584617873692397 0.19702203538357446 -0.20708169115609748 0.24504595058632464 -0.12325092603206819 -0.049514416924182583 0.2713550330676413 0.014400223490452373 0.13790665309558972 -0.27386650748014957 -0.11973414697228325 0.14139897245169908 0.083775693115337752 -0.24658690043242001 0.16259294883559086 -0.22796225166496878 0.24878308442442251;0.15489017854998868 -0.17120316830002091 -0.1224360029075704 -0.16163216619825857 0.27267649885725553 0.29069562607922123 0.29232890632053882 0.30119794440664588 -0.13267639736685835 -0.14342727279927733 0.2338784657827549 -0.14055594547360162 -0.0024384385046048325 0.045181021554346917 -0.17618977967679803 -0.20594865881111715 0.14748384064638378 0.017546946899329629 -0.039681640134779067 0.24512302609071937 0.27556241738978099 -0.10195552005496195 0.29524156531935414 0.0525378592759961 -0.16860029222052419 0.1758095212068361 0.27589472935943854 0.047677219627639635 0.074316676449260502 0.22953292542081838 -0.18144058939598667 -0.11972762396475257 -0.071330264108457955 0.16427119433009554 -0.11460548429176766 0.045323041852251174 0.24375555949284447 0.11704795143068394 0.16948767222070388 0.18019117988620226 -0.13933902700550169 -0.085145963394960611 -0.029402412383798291 0.037732172168784647 -0.031338876074456581 -0.1640399986277814 -0.092969575310426211 0.14249142680525026 -0.048888284073170064 0.085280974947308852 0.13636209903469365 0.26249074986171622 -0.19187292173547174 0.027063497452286287 0.20628357166010694 0.038528672485125752 -0.11659139993546931 0.15925249020962079 0.11582131294858665 0.23233714356605673 -0.17260846161503235 -0.19865505290037933 -0.016954296924625235 -0.066857562196777409 -0.068662824886728674 -0.12094680338494648 0.33929395956909103 -0.043167410319012708 -0.18496706675200422 -0.060499304028235674 -0.030438403030954901 0.10303607002367481 0.03526844195901789 -0.053924926345832083 0.28984588582866494 0.12707861678187918 0.2173225243205166 0.19858906765342138 -0.14559552426795799 0.26053325736393623;0.27259209970235104 0.31529961818023389 0.081964510199322008 0.052420185556756579 0.28924210181105747 -0.07364929105543655 -0.048676775418851584 -0.19164154380169957 0.073972504360126895 0.19255521510992699 0.2476739342617662 -0.17621944928272143 -0.19429603948905297 0.063402353908405928 -0.19060222244831562 -0.18243938659994757 -0.23539447627657761 -0.040732247085763187 0.18104292980560122 -0.12793019226125468 0.30133643664823806 -0.19431286931938618 0.17324232203288248 0.042876287396647839 -0.11773724287816133 0.25007292830988742 0.17776147475882037 -0.15217396651545004 -0.17833647195343158 0.046818255346229007 0.025659052104036573 -0.071074070730667571 -0.014824699115421471 0.093264288124634956 -0.0076278629867684525 -0.15077867833037695 0.30506741943484561 -0.23599725263286492 0.12587892170083656 0.30209636858396077 -0.11696097331514616 0.1769956540986059 0.19232254316623967 0.19007065987129337 0.083668042272220175 0.022350412595243806 0.13731258747562455 -0.088147644543787235 -0.19250921759538603 0.34394043856171369 0.14434357903314901 -0.010436314806351051 0.14323877424705214 -0.28717694007787625 -0.068362157325424916 0.20110145310414615 0.035786361113719065 -0.025865062429906997 0.20212752149207563 -0.13863734746396725 0.10870977845931602 -0.19931232624080683 -0.28050343937592193 0.043365076685960111 -0.10413862953560619 0.11881677010773736 0.24405033363826922 -0.063372271614461587 -0.19006556699915955 0.012549044519470715 -0.1395868114784285 -0.12306472929850959 -0.2818798750848609 -0.26034159571650578 0.018847099486488612 0.035348950664250547 -0.053543207075476343 -0.21044657808193809 0.12490334200647182 -0.25026868950489134;0.11809997107040461 0.10326123717968549 -0.052589243822371456 0.30647211632972587 0.041249074340637258 -0.15927147542001382 0.17780834150996822 0.079321942492915923 -0.14423691718579937 0.050604426839759756 -0.30526955738423006 0.26257257635586867 -0.14965103029778731 -0.1276891629395811 0.33978464735584418 0.15695650837932568 -0.0088186166973230236 -0.00065882163742135222 0.33603616385546065 -0.16540888092090597 -0.013231560227560394 -0.085209008694530686 0.021360940517988803 0.19292976698983111 -0.077761249793975196 0.30019150671125516 0.031077807600038834 0.35850194793637752 0.26218117581533462 -0.028043590343372355 0.0088547879633938953 -0.17196159414496559 0.046599191247336011 -0.26913708155010507 -0.042230664950933 0.076810843356936165 0.16754786835274471 -0.032831846223188341 0.11379416146914 -0.033812024405211284 0.012604994134034018 -0.11689963289893075 0.11272950596250711 -0.087168937807230687 -0.17950321454241794 0.19710267850577348 -0.15017328479018568 0.32794041863137419 0.32742428416888192 -0.23560934996618643 0.33388014482651174 -0.021228560642777117 -0.15805354298648888 -0.045106474367551844 0.25565031825418971 0.20106631886953211 0.1996200156143986 -0.1374050251580122 0.30353239304658403 0.027462614248031911 0.13698986142186489 0.30448451908283697 0.094154618562271752 0.21635392520508898 0.095371890984758914 0.092099098161032039 0.23869245958826063 -0.011786158540930184 0.2127008966345397 -0.015511698206689595 -0.16615087304484327 0.078616297507965019 0.33965764488046035 -0.10551830502056346 -0.21130777167699613 0.22150540296471352 0.1121922103817342 -0.24811724299441121 -0.079605984014483711 -0.035425430892866636;-0.20510199161109396 -0.25336493063920196 -0.0018887952711353038 -0.14564950672567897 -0.22702168948071894 -0.15377735580433455 0.084874020341772258 -0.021673321711127191 0.073180005576726062 0.28584820514079695 -0.094185838736064592 0.050243924868670561 -0.25731310915857858 0.15808643649278331 0.29332002060425688 0.12422500668393188 0.13831156427574604 -0.034445465745168963 0.069154260157367559 -0.23823711055524774 -0.25508041220124439 -0.11900716967393062 0.0085078555839616359 -0.027554639769499817 0.085173489118558654 -0.11450965430491973 0.13705349945179887 0.12738328881936092 0.14099988533750002 0.13292457008169417 -0.11422590930503318 -0.31693787646443045 0.23042001972570483 -0.22755359217167698 0.22129288402235592 -0.24740973128434476 -0.12346237369663805 -0.1361615472753645 -0.2610406588490376 -0.13262767959932562 0.025456235518359339 0.075402627109504891 -0.34552447699338584 0.16159757687464263 0.12887920047668955 0.037838395599786787 -0.25494063642415044 0.22145870191415579 0.10986912762055746 -0.28054034674420758 0.27047766135525964 0.10862307144429813 -0.046312830216679118 -0.018097593792693503 0.16479952757718738 -0.21004985741195992 0.18593997895738409 0.019985137778161001 0.26241104649410846 0.23466491541519113 0.088710192698234866 -0.026168604104348417 -0.14241213215011567 -0.039638199837514293 0.074236209601480155 -0.28494265345796149 -0.06725781429318467 0.068312226793587505 -0.086981743590242216 0.12348054087226314 0.24018477779686676 -0.1472179148720647 -0.1624172276341983 -0.22275852906974342 0.20362439925023912 0.10438485065180572 0.12945320359416893 -0.25775319255806362 0.054128506288523046 -0.069689486840413692;0.050490688419322777 0.19302523382045328 0.082000375280770782 0.038581851105349035 -0.2198360320135182 0.094738814788735248 -0.089839973427855935 -0.28833857137654562 0.12427532325398277 -0.22601102602712533 -0.18761702419929471 0.020924821320404324 -0.19058082490454814 -0.097174533360892892 0.055841685930568929 0.086091438960187699 0.21740169857285152 0.18835431987763018 0.1183861538635744 -0.1789306435555065 -0.099499711067380675 -0.028206735385704309 -0.12637747067472074 -0.041477752436503264 -0.20196187449668268 0.14507872928307944 0.18802866382205669 0.015781035352930309 0.13009258793576867 -0.2528408586225579 0.043901460811351947 -0.030017843789429923 -0.044427831363543432 0.26657407448704801 -0.20113800317369426 -0.071304743575328317 0.022198544772586332 -0.25421460552960939 -0.23400873655243723 -0.24958413177979624 -0.077061374304337169 0.11707707959616682 -0.040315150702152795 -0.059145781622511093 -0.15362308363665261 -0.02279831508771956 0.074550324858896219 -0.097032166287634503 0.015952018479604941 -0.26352172805342816 -0.20284024469142076 0.16887790726566715 0.1358107499687054 -0.11905398217738981 -0.15203366508282379 0.21499196031335036 0.20067182994760982 -0.19032955548544481 -0.26984305613593118 0.068265921704544874 0.2361409503789352 0.17659799327589659 -0.20493696112565818 0.023644490926279051 -0.0089376783658133077 0.27859042468217748 -0.18584785027048492 -0.35461561442896367 0.26554524703212107 0.15389483062676074 0.080275982831068585 -0.25905842661013934 -0.2048108120584845 0.06390608195996747 -0.060469919609471103 0.1867313956574618 -0.3046118301104635 0.18602021211208189 0.15844313412004599 0.14170197501058354;-0.2051614993275882 -0.28902192162990509 0.11207775323428754 -0.17667701038644759 -0.1597504340498504 -0.027337236676940244 0.0051791483830353167 -0.11046040584207356 0.1226200699534843 -0.065732447062284149 0.14575952385766078 -0.2293085708108793 -0.16832270104543104 -0.2453598400167763 -0.27790936051367759 -0.029271146206030871 -0.23711532765188237 0.13476012550841035 0.047165767016735638 -0.052431358960792374 -0.072971121553245089 -0.0082769252627711912 -0.033951042999304605 0.26637191143194672 0.10521074873810478 -0.17740160448069828 0.013111222088745095 -0.056483369445826923 -0.2062164146409875 -0.23137030377841628 0.027552426562340766 -0.10830604035177938 0.23974716081835137 -0.19273591458813985 0.17795859189683025 0.038319665266282402 -0.23913581423527433 -0.21458645591680761 -0.11467372297321544 0.034467265464341812 0.17820656142349009 -0.26754737472919915 -0.095802950193491582 -0.29108781428008323 0.2306907450308758 0.077952778020133395 -0.033238747153103598 0.070780411886600267 0.052987075432956714 -0.28080302808866103 -0.22473155384775806 0.01030264843293343 -0.074825777164972879 -0.17854981190630934 -0.17153694029891067 0.26668673827302364 -0.12877396618781439 -0.25484947565300814 0.18702528266748833 0.18903215522879352 0.26588925307659672 -0.18574536833300842 -0.17086194088714834 -0.020635561278393992 -0.18707586820581218 0.10727432194866052 -0.064261065961717628 0.15539694543560076 -0.20792080755467265 -0.2652618755793224 -0.050733457866976923 -0.16176414119650409 -0.10567143195697885 0.15349392589577479 -0.11382283117127771 -0.12041645249659197 -0.24280687172039006 0.24256660962598997 0.031254593428739333 0.064948326716824045;0.040729985990119677 -0.11430186942014751 -0.19127090869386892 0.10272032925054111 0.15693236320514728 -0.11801059253216276 -0.29506909385545321 -0.22551082645287887 -0.05811913997756446 -0.25540700196480043 -0.088148880387223558 0.18423031958171029 -0.079310372808251123 0.12777342929726204 -0.16954323239166955 0.0085877232217057026 0.25394021353777174 0.042721332605094156 -0.15458395993015814 -0.13974002923441045 0.02372313583134612 -0.2563717224671091 0.23320235499641129 -0.2715136032812358 -0.25166398348160507 -0.29354850957460066 -0.24803267340646948 -0.26629031145087628 0.048998627489996983 -0.23323920281620861 -0.18816041992201513 0.18958597040577005 -0.14260369647366836 -0.29773232565713342 0.039715016407180469 -0.19007191394273751 0.19875810413544726 -0.081317995520473113 -0.0065751126102753616 0.11552034743822202 -0.0097966795097904485 -0.1879098922292014 0.18956611273579382 -0.221810486031875 -0.15636079808510431 0.075012120095690513 -0.053099423394654767 0.034684527564310647 0.00084937025786459871 -0.11353128509121048 0.0884644409244639 -0.11202715557322887 0.096825379193193645 0.17946675362518932 0.15384675198926595 -0.0187113587169568 -0.019232204148728973 0.19724005693105398 0.037458140100331008 0.12590932457708068 0.1272115158575686 0.0055258848174256844 -0.20505180806711445 -0.25285773148311036 0.22263499511028945 0.10160536813844531 -0.26141993392424534 0.0074413336845130795 0.26677320966848339 -0.21991585373823191 0.21013212923597532 0.18875989908154173 -0.03905271360459673 0.066748829913799906 0.13560555063485624 0.097809796152195899 -0.0049681584595183429 0.090349603128743808 0.10558665495331032 0.16459214611050313];
  
  % Layer 2
  b2 = [0.48273303308523891;-0.33073661578355157];
  LW2_1 = [-0.35867818927974671 -0.70110546009585428 -0.010843184602086456 -0.1199986014181883 0.74485888703469483 -0.40799457306023995 -1.2783759540344828 -0.67426035343465551 -0.88746105797028818 -0.83896587374429366;-0.49396025483411021 0.41830638908513335 -0.80126451037279056 -0.31853783062115693 -0.4920169014399593 0.2755495564687771 0.067721266276582814 0.21075090690167081 -0.11891063958970503 -0.72677370771214023];
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);
  
  % Output 1
  y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Competitive Soft Transfer Function
function a = softmax_apply(n)
  nmax = max(n,[],1);
  n = bsxfun(@minus,n,nmax);
  numer = exp(n);
  denom = sum(numer,1); 
  denom(denom == 0) = 1;
  a = bsxfun(@rdivide,numer,denom);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
